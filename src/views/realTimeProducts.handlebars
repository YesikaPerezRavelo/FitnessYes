<div class="container">
  <nav>
    <ul class="nav_list">
      <li class="nav__item">
        <a class="nav_link" href="/products/">Classes</a>
      </li>
      <li class="nav__item">
        <a class="nav_link" href="/realtimeproducts">Post</a>
      </li>
      <li class="nav__item">
        <a class="nav_link" href="/chat">Help</a>
      </li>
      <li class="nav__item">
        <a class="nav_link" href="/mockingproducts">Extras</a>
      </li>
      <li class="nav__item">
        <a class="nav_link" href="/cart?cid={{user.cartId}}">Cart</a>
      </li>
      <li class="nav__item">
        <a class="nav_link" href="/api/session/logout">Logout</a>
      </li>
    </ul>
  </nav>

  <div class="box">
    <h1>Productos</h1>
    <hr />
    <div class="products-form">
      <h2>Crear Producto</h2>
      <form>
        <label for="title">Título</label>
        <input name="title" id="title" type="text" />

        <label for="description">Descripción</label>
        <input name="description" id="description" type="text" />

        <label for="code">Código</label>
        <input name="code" id="code" type="text" />

        <label for="price">Precio</label>
        <input name="price" id="price" type="number" />

        <label for="stock">Stock</label>
        <input name="stock" id="stock" type="number" />

        <label for="category">Categoria</label>
        <input name="category" id="category" type="text" />

        <button id="button-create" onclick="createProduct(event)">Crear</button>
      </form>
    </div>

    <hr />

    <div class="products-box">
      {{#each products.docs}}
        <div class="product-card">
          <h3>{{this.title}}</h3>
          <hr />
          <p>Categoria: {{this.category}}</p>
          <p>Descripción: {{this.description}}</p>
          <p>Precio: $ {{this.price}}</p>
          <button
            id="button-delete"
            onclick="deleteProduct('{{this._id}}')"
          >Eliminar</button>
        </div>
      {{/each}}
    </div>

    <div class="pagination">
      {{#if products.hasPrevPage}}
        <a
          href="/realtimeproducts?page={{products.prevPage}}&limit={{products.limit}}"
          class="prev"
        >Previous</a>
      {{/if}}
      {{#if products.hasNextPage}}
        <a
          href="/realtimeproducts?page={{products.nextPage}}&limit={{products.limit}}"
          class="next"
        >Next</a>
      {{/if}}
    </div>
  </div>
</div>
<script src="/socket.io/socket.io.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/js/realtimeproducts.js"></script>